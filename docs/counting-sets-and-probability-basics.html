<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Counting, sets, and probability basics | Math 423 Stochastic Processes Course Notes</title>
  <meta name="description" content="Chapter 2 Counting, sets, and probability basics | Math 423 Stochastic Processes Course Notes" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Counting, sets, and probability basics | Math 423 Stochastic Processes Course Notes" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Counting, sets, and probability basics | Math 423 Stochastic Processes Course Notes" />
  
  
  

<meta name="author" content="Joseph Stover" />


<meta name="date" content="2023-03-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-to-r-and-rstudio.html"/>
<link rel="next" href="random-variables-and-distributions.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script type="text/javascript">
  function unhide(divID) {
    var item = document.getElementById(divID);
    if (item) {
      item.className=(item.className=='hiddendiv')?'unhiddendiv':'hiddendiv';
    }
  }
</script> 


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Stochastic Processes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>1</b> Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#getting-access-to-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> Getting access to R and RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#r-basics"><i class="fa fa-check"></i><b>1.2</b> R basics</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#data-structures-vectors-matrices"><i class="fa fa-check"></i><b>1.2.1</b> Data structures, vectors, matrices</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#installing-and-using-packages-in-r"><i class="fa fa-check"></i><b>1.3</b> Installing and using packages in R</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#random-variables"><i class="fa fa-check"></i><b>1.4</b> Random variables</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#basics-of-programming-r-scripts"><i class="fa fa-check"></i><b>1.5</b> Basics of programming, R scripts</a></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#importing-datasets-into-r"><i class="fa fa-check"></i><b>1.6</b> Importing datasets into R</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#summary"><i class="fa fa-check"></i>Summary</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html"><i class="fa fa-check"></i><b>2</b> Counting, sets, and probability basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#ticket-in-a-box-model-of-probability"><i class="fa fa-check"></i><b>2.1</b> Ticket-in-a-box model of probability</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#sampling-from-a-box-of-tickets"><i class="fa fa-check"></i><b>2.1.1</b> Sampling from a box of tickets</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#relative-area-model-of-probability"><i class="fa fa-check"></i><b>2.2</b> Relative area model of probability</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#one-dimension"><i class="fa fa-check"></i><b>2.2.1</b> One dimension</a></li>
<li class="chapter" data-level="2.2.2" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#two-or-more-dimensions"><i class="fa fa-check"></i><b>2.2.2</b> Two or more dimensions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#sample-spaces-and-events"><i class="fa fa-check"></i><b>2.3</b> Sample Spaces and Events</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#sample-space"><i class="fa fa-check"></i><b>2.3.1</b> Sample space</a></li>
<li class="chapter" data-level="2.3.2" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#events"><i class="fa fa-check"></i><b>2.3.2</b> Events</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#set-operations"><i class="fa fa-check"></i><b>2.4</b> Set Operations</a></li>
<li class="chapter" data-level="2.5" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#venn-diagrams"><i class="fa fa-check"></i><b>2.5</b> Venn Diagrams</a></li>
<li class="chapter" data-level="2.6" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#counting-permutations-and-combinations"><i class="fa fa-check"></i><b>2.6</b> Counting, permutations, and combinations</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#multiplication-rule"><i class="fa fa-check"></i><b>2.6.1</b> Multiplication rule</a></li>
<li class="chapter" data-level="2.6.2" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#nk"><i class="fa fa-check"></i><b>2.6.2</b> <span class="math inline">\(n^k\)</span></a></li>
<li class="chapter" data-level="2.6.3" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#factorials"><i class="fa fa-check"></i><b>2.6.3</b> Factorials</a></li>
<li class="chapter" data-level="2.6.4" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#permutation"><i class="fa fa-check"></i><b>2.6.4</b> Permutation</a></li>
<li class="chapter" data-level="2.6.5" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#combination"><i class="fa fa-check"></i><b>2.6.5</b> Combination</a></li>
<li class="chapter" data-level="2.6.6" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#summary-of-counting"><i class="fa fa-check"></i><b>2.6.6</b> Summary of counting</a></li>
<li class="chapter" data-level="2.6.7" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#special-case-with-replacement-order-doesnt-matter-the-multiset"><i class="fa fa-check"></i><b>2.6.7</b> Special case: with replacement, order doesn’t matter: the multiset</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#probability"><i class="fa fa-check"></i><b>2.7</b> Probability</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#equally-likely-outcomes"><i class="fa fa-check"></i><b>2.7.1</b> Equally likely outcomes</a></li>
<li class="chapter" data-level="2.7.2" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#general-probability-theory"><i class="fa fa-check"></i><b>2.7.2</b> General probability theory</a></li>
<li class="chapter" data-level="2.7.3" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#independence"><i class="fa fa-check"></i><b>2.7.3</b> Independence</a></li>
<li class="chapter" data-level="2.7.4" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#conditional-probability"><i class="fa fa-check"></i><b>2.7.4</b> Conditional probability</a></li>
<li class="chapter" data-level="2.7.5" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#partitions"><i class="fa fa-check"></i><b>2.7.5</b> Partitions</a></li>
<li class="chapter" data-level="2.7.6" data-path="counting-sets-and-probability-basics.html"><a href="counting-sets-and-probability-basics.html#bayes-theorem"><i class="fa fa-check"></i><b>2.7.6</b> Baye’s Theorem</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html"><i class="fa fa-check"></i><b>3</b> Random variables and distributions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#expectation-and-variance"><i class="fa fa-check"></i><b>3.1</b> Expectation and variance</a></li>
<li class="chapter" data-level="3.2" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#joint-distributions"><i class="fa fa-check"></i><b>3.2</b> Joint distributions</a></li>
<li class="chapter" data-level="3.3" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#independence-of-random-variables"><i class="fa fa-check"></i><b>3.3</b> Independence of random variables</a></li>
<li class="chapter" data-level="3.4" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#discrete-bernoulli-binomial-geometric-poisson"><i class="fa fa-check"></i><b>3.4</b> Discrete: Bernoulli, binomial, geometric, Poisson</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#bernoulli"><i class="fa fa-check"></i><b>3.4.1</b> Bernoulli</a></li>
<li class="chapter" data-level="3.4.2" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#binomial"><i class="fa fa-check"></i><b>3.4.2</b> Binomial</a></li>
<li class="chapter" data-level="3.4.3" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#geometric"><i class="fa fa-check"></i><b>3.4.3</b> Geometric</a></li>
<li class="chapter" data-level="3.4.4" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#poisson"><i class="fa fa-check"></i><b>3.4.4</b> Poisson</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#continuous-uniform-exponential-normal"><i class="fa fa-check"></i><b>3.5</b> Continuous: Uniform, exponential, normal</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#uniform"><i class="fa fa-check"></i><b>3.5.1</b> Uniform</a></li>
<li class="chapter" data-level="3.5.2" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#exponential"><i class="fa fa-check"></i><b>3.5.2</b> Exponential</a></li>
<li class="chapter" data-level="3.5.3" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#normal"><i class="fa fa-check"></i><b>3.5.3</b> Normal</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="random-variables-and-distributions.html"><a href="random-variables-and-distributions.html#summary-1"><i class="fa fa-check"></i>Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="conditional-expectation.html"><a href="conditional-expectation.html"><i class="fa fa-check"></i><b>4</b> Conditional expectation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="conditional-expectation.html"><a href="conditional-expectation.html#conditional-distributions"><i class="fa fa-check"></i><b>4.1</b> Conditional distributions</a></li>
<li class="chapter" data-level="4.2" data-path="conditional-expectation.html"><a href="conditional-expectation.html#conditional-expectation-1"><i class="fa fa-check"></i><b>4.2</b> Conditional expectation</a></li>
<li class="chapter" data-level="4.3" data-path="conditional-expectation.html"><a href="conditional-expectation.html#random-conditional-expectation"><i class="fa fa-check"></i><b>4.3</b> (Random) conditional expectation</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="conditional-expectation.html"><a href="conditional-expectation.html#total-expectation"><i class="fa fa-check"></i><b>4.3.1</b> Total expectation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="conditional-expectation.html"><a href="conditional-expectation.html#summary-2"><i class="fa fa-check"></i>Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="intro-stochastic-processes.html"><a href="intro-stochastic-processes.html"><i class="fa fa-check"></i><b>5</b> Intro Stochastic Processes</a>
<ul>
<li class="chapter" data-level="" data-path="intro-stochastic-processes.html"><a href="intro-stochastic-processes.html#summary-3"><i class="fa fa-check"></i>Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="random-walks.html"><a href="random-walks.html"><i class="fa fa-check"></i><b>6</b> Random walks</a>
<ul>
<li class="chapter" data-level="6.1" data-path="random-walks.html"><a href="random-walks.html#the-simple-symmetric-random-walk-ssrw"><i class="fa fa-check"></i><b>6.1</b> The simple symmetric random walk (SSRW)</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="random-walks.html"><a href="random-walks.html#definition-of-a-random-walk"><i class="fa fa-check"></i><b>6.1.1</b> Definition of a random walk</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="random-walks.html"><a href="random-walks.html#distribution-of-x_n"><i class="fa fa-check"></i><b>6.2</b> Distribution of <span class="math inline">\(X_n\)</span></a></li>
<li class="chapter" data-level="6.3" data-path="random-walks.html"><a href="random-walks.html#shift-invariance-memorylessness"><i class="fa fa-check"></i><b>6.3</b> Shift invariance &amp; memorylessness</a></li>
<li class="chapter" data-level="6.4" data-path="random-walks.html"><a href="random-walks.html#reflection-principle"><i class="fa fa-check"></i><b>6.4</b> Reflection principle</a></li>
<li class="chapter" data-level="6.5" data-path="random-walks.html"><a href="random-walks.html#maximum-state-reached"><i class="fa fa-check"></i><b>6.5</b> Maximum state reached</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="random-walks.html"><a href="random-walks.html#maximum-over-infinite-sample-paths-for-p12"><i class="fa fa-check"></i><b>6.5.1</b> Maximum over infinite sample paths for <span class="math inline">\(p&lt;1/2\)</span></a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="random-walks.html"><a href="random-walks.html#hitting-times"><i class="fa fa-check"></i><b>6.6</b> Hitting times</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="random-walks.html"><a href="random-walks.html#hitting-time-for-state-1"><i class="fa fa-check"></i><b>6.6.1</b> Hitting time for state <span class="math inline">\(1\)</span></a></li>
<li class="chapter" data-level="6.6.2" data-path="random-walks.html"><a href="random-walks.html#hitting-time-for-other-states"><i class="fa fa-check"></i><b>6.6.2</b> Hitting time for other states</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="random-walks.html"><a href="random-walks.html#return-time-to-state-0"><i class="fa fa-check"></i><b>6.7</b> Return time to state <span class="math inline">\(0\)</span></a></li>
<li class="chapter" data-level="" data-path="random-walks.html"><a href="random-walks.html#summary-4"><i class="fa fa-check"></i>Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="limit-theorems.html"><a href="limit-theorems.html"><i class="fa fa-check"></i><b>7</b> Limit theorems</a>
<ul>
<li class="chapter" data-level="7.1" data-path="limit-theorems.html"><a href="limit-theorems.html#inequalities"><i class="fa fa-check"></i><b>7.1</b> Inequalities</a></li>
<li class="chapter" data-level="7.2" data-path="limit-theorems.html"><a href="limit-theorems.html#law-of-large-numbers"><i class="fa fa-check"></i><b>7.2</b> Law of large numbers</a></li>
<li class="chapter" data-level="7.3" data-path="limit-theorems.html"><a href="limit-theorems.html#central-limit-theorem"><i class="fa fa-check"></i><b>7.3</b> Central limit theorem</a></li>
<li class="chapter" data-level="7.4" data-path="limit-theorems.html"><a href="limit-theorems.html#borel-cantelli"><i class="fa fa-check"></i><b>7.4</b> Borel-Cantelli</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="markov-chains.html"><a href="markov-chains.html"><i class="fa fa-check"></i><b>8</b> Markov Chains</a>
<ul>
<li class="chapter" data-level="8.1" data-path="markov-chains.html"><a href="markov-chains.html#graph-of-a-markov-chain"><i class="fa fa-check"></i><b>8.1</b> Graph of a Markov chain</a></li>
<li class="chapter" data-level="8.2" data-path="markov-chains.html"><a href="markov-chains.html#classification-of-states"><i class="fa fa-check"></i><b>8.2</b> Classification of states</a></li>
<li class="chapter" data-level="8.3" data-path="markov-chains.html"><a href="markov-chains.html#distribution-at-time-n"><i class="fa fa-check"></i><b>8.3</b> Distribution at time <span class="math inline">\(n\)</span></a></li>
<li class="chapter" data-level="8.4" data-path="markov-chains.html"><a href="markov-chains.html#simulating-a-markov-chain-in-r"><i class="fa fa-check"></i><b>8.4</b> simulating a Markov chain in R</a></li>
<li class="chapter" data-level="8.5" data-path="markov-chains.html"><a href="markov-chains.html#return-times-and-hitting-probabilities"><i class="fa fa-check"></i><b>8.5</b> Return times and hitting probabilities</a></li>
<li class="chapter" data-level="" data-path="markov-chains.html"><a href="markov-chains.html#summary-5"><i class="fa fa-check"></i>Summary</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Math 423 Stochastic Processes Course Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="counting-sets-and-probability-basics" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Counting, sets, and probability basics<a href="counting-sets-and-probability-basics.html#counting-sets-and-probability-basics" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Now we review basic introductory probability theory. An experiment with observable outcomes that has some level of unpredictability to them is often called random. You may have an intuitive understanding of what “random” means and what it means for something to have a probability, chance, or likelihood of happening. We want to mathematically formalize the concept of probability.</p>
<p>An experiment here could be as simple as selecting one or more individuals from a fixed population. It could be a process such as an industrial machine producing some item. We will investigate the probability of different individuals being selected in the former example and the probability of the produced item having certain properties in the latter example.</p>
<div id="ticket-in-a-box-model-of-probability" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Ticket-in-a-box model of probability<a href="counting-sets-and-probability-basics.html#ticket-in-a-box-model-of-probability" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here is a what I hope will be an intuitive model of probability and random experiments. Assume we have a box full of tickets. We are to shake the box up and draw one or more tickets out. It should be intuitively clear that we have little (if any) control over what ticket we draw out (assuming we aren’t looking and sorting through the tickets until we find the one we want).</p>
<p>Now, let the tickets be labeled with letters, numbers, colors, names, or any label you can imagine. The tickets could contain the names of all students in a class, 1 per student, or they could have the sides of a die written on them. We could even account for an experiment that is biased towards a certain outcome by having more tickets with one label and less of another label. For example, if we want to simulate a coin that has a 75% chance of
flipping heads and a 25% chance for tails, then we could put in 75 “H” tickets and 25 “T” tickets. Now if you were to draw a ticket, replace it, shake the box up and draw again, you should intuitively feel that out of 10 draws, we expect to get 7 or 8 H’s and the rest T’s. The result is unpredictable, but if you drew a very large number of tickets (replacing each as we go), then if you drew only H’s, you would probably agree that you might get suspicious, say, that the T tickets were stuck to the walls or missing.</p>
<p>Keep this model of probability in mind as we go through this course. We will come back to this idea several times.</p>
<div id="sampling-from-a-box-of-tickets" class="section level3 hasAnchor" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Sampling from a box of tickets<a href="counting-sets-and-probability-basics.html#sampling-from-a-box-of-tickets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If we have a box of tickets with <span class="math inline">\(k\)</span> different ticket labels, and <span class="math inline">\(n_i\)</span> of tickets with label <span class="math inline">\(L_i\)</span>, then our box looks like this:
<span class="math display">\[\{L_1,L_1,\ldots,L_1, L_2, L_2,\ldots, L_2, \ldots, L_k, L_k\ldots, L_k\}.\]</span>
We wish to shuffle these up randomly and draw out <span class="math inline">\(n\)</span> total tickets.</p>
<p>This can be accomplished in R as follows:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="counting-sets-and-probability-basics.html#cb4-1" aria-hidden="true" tabindex="-1"></a>S<span class="ot">=</span><span class="fu">c</span>(<span class="fu">rep</span>(L1,n1),<span class="fu">rep</span>(L2,n2),...,<span class="fu">rep</span>(Lk,nk))</span>
<span id="cb4-2"><a href="counting-sets-and-probability-basics.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(S,<span class="at">size=</span>n,<span class="at">replace=</span>T<span class="sc">/</span>F)</span></code></pre></div>
<p><em>Examples</em>:</p>
<ul>
<li>Flip a fair coin once: <code>sample(c("H","T"),size=1,replace=T)</code></li>
<li>Flip a fair coin 10 times: <code>sample(c("H","T"),size=10,replace=T)</code></li>
<li>Roll a fair die 20 times: <code>sample(1:6,size=20,replace=T)</code></li>
<li>Draw without replacement until all tickets are gone with 3 blue tickets, 2 red tickets, and 1 green ticket:</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="counting-sets-and-probability-basics.html#cb5-1" aria-hidden="true" tabindex="-1"></a>S<span class="ot">=</span><span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;blue&quot;</span>,<span class="dv">3</span>),<span class="fu">rep</span>(<span class="st">&quot;red&quot;</span>,<span class="dv">2</span>),<span class="fu">rep</span>(<span class="st">&quot;green&quot;</span>,<span class="dv">1</span>))</span>
<span id="cb5-2"><a href="counting-sets-and-probability-basics.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(S,<span class="at">size=</span><span class="fu">length</span>(S),<span class="at">replace=</span>F)</span></code></pre></div>
<pre><code>## [1] &quot;red&quot;   &quot;red&quot;   &quot;green&quot; &quot;blue&quot;  &quot;blue&quot;  &quot;blue&quot;</code></pre>
</div>
</div>
<div id="relative-area-model-of-probability" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Relative area model of probability<a href="counting-sets-and-probability-basics.html#relative-area-model-of-probability" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First consider tossing a tossing a dart at a dartboard. Consider a dartboard that is a disc with a small circle in the center of the dartboard (the bulls-eye). Having a dart land in the bulls-eye is normally a higher point value than another other location on the board. Why is this? We can intuitively reason that the bulls-eye is small, therefor the dart can land in the bulls-eye in fewer ways than the rest of the board which has many more places for he dart to land. This is actually a continuous version of the ticket-in-a-box model.</p>
<div id="one-dimension" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> One dimension<a href="counting-sets-and-probability-basics.html#one-dimension" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consider that we have <span class="math inline">\(n\)</span> tickets that indicate sub-intervals of the interval <span class="math inline">\([0,1]\)</span> so that ticket <span class="math inline">\(1\)</span> indicates the interval <span class="math inline">\([0,\frac1n]\)</span>, ticket <span class="math inline">\(2\)</span> indicates the interval <span class="math inline">\((\frac1n,\frac2n]\)</span>, …, and ticket <span class="math inline">\(n\)</span> indicates interval <span class="math inline">\((\frac{n-1}{n},1]\)</span>. So we can put the tickets in a box, shake it up and draw one out to randomly select a sub-interval of <span class="math inline">\([0,1]\)</span>.</p>
<p><span class="math display">\[\text{Tickets: } \quad ~\quad \fbox{$1: \left[0,\frac1n\right]$}, ~\fbox{$2: \left(\frac1n,\frac2n\right]$}, ...,~\fbox{$n: \left(\frac{n-1}{n},1\right]$}\]</span></p>
<p>Now imagine increasing the number of tickets, <span class="math inline">\(n\)</span>. We can imagine laying the tickets in a line that is one unit long and just sequentially cutting the tickets into smaller and smaller pieces while preserving the total length of the interval. For a very large number of tickets, the sub-intervals will be very short. Randomly choosing a sub-interval from <span class="math inline">\([\frac12,\frac34]\)</span>, for example, will depend on how many sub-intervals it is divided into, i.e. the number of tickets that that region was cut into. The number of tickets that any interval is cut into is proportional to the length of that interval.</p>
<p>In the limit as <span class="math inline">\(n\rightarrow\infty\)</span>, the tickets will effectively indicate every point on the interval <span class="math inline">\([0,1]\)</span>. And we can imagine tossing a dart onto a line, and assuming that every location is <em>equally likely</em>, the probability of any sub-interval is equivalent to its length (relative to the length of the entire landing strip).</p>
<p>We can think of this as a way to model selecting a number at random from the interval <span class="math inline">\([0,1]\)</span>. If we require any number of decimals of precision, e.g. 8 decimal places, then we can put <span class="math inline">\(10^8\)</span> tickets in the box to indicate all numbers at that precision level.</p>
</div>
<div id="two-or-more-dimensions" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Two or more dimensions<a href="counting-sets-and-probability-basics.html#two-or-more-dimensions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can generalize the same ideas to two dimensions. Take any region and cut it up into equal area tickets. The probability of selecting a ticket from sub-region <span class="math inline">\(A\)</span> will be the number of tickets that <span class="math inline">\(A\)</span> is cut into. This is equal to the area of <span class="math inline">\(A\)</span> relative to the area of the entire region.</p>
<p>Back to the dartboard example. The probability of the dart landing in the bulls-eye is the area of the bulls-eye divided by the area of the entire dartboard.</p>
<p>This is an intuitive way to extend the idea of <em>equally likely</em> from a finite number of tickets to a continuous interval or a continuous area. We can even extend this idea to selecting randomly from a three dimensional volume. For example, if a molecule is randomly moving around in space, with the assumption that every location is equally likely, the probability of finding the molecule in any region is equal to the volume of that region divided by the entire volume of the whole space. It is important here that we start with a finite region of all possible locations.</p>
<p>Now: what if we don’t want all locations to be equally likely? This requires us to develop the mathematical theory of probability. That is what follows.</p>
</div>
</div>
<div id="sample-spaces-and-events" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Sample Spaces and Events<a href="counting-sets-and-probability-basics.html#sample-spaces-and-events" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="sample-space" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Sample space<a href="counting-sets-and-probability-basics.html#sample-space" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The set of all possible outcomes of a random process or experiment is called the <strong>sample space</strong> and is denoted by <span class="math inline">\(S\)</span>.</p>
<p><em>Examples</em>:</p>
<ul>
<li><span class="math inline">\(S=\{H,T\}\)</span> for flipping a coin.</li>
<li><span class="math inline">\(S=\{1,2,3,4,5,6\}\)</span> for rolling a 6-sided die.</li>
<li><span class="math inline">\(S=\{(1,1),(1,2),\ldots,(6,5),(6,6)\}\)</span> for rolling two 6-sided dice.</li>
<li><span class="math inline">\(S=\{(H,1),(H,2),\ldots,(H,6),(T,1),(T,2),\ldots,(T,6)\}\)</span> for rolling a 6-sided die and flipping a coin.</li>
</ul>
<p>To list out a sample space in R, you can do the following. Here is an example of flipping a coin and rolling a die:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="counting-sets-and-probability-basics.html#cb7-1" aria-hidden="true" tabindex="-1"></a>coinflip<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;H&quot;</span>,<span class="st">&quot;T&quot;</span>)</span>
<span id="cb7-2"><a href="counting-sets-and-probability-basics.html#cb7-2" aria-hidden="true" tabindex="-1"></a>dieroll<span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb7-3"><a href="counting-sets-and-probability-basics.html#cb7-3" aria-hidden="true" tabindex="-1"></a>S <span class="ot">=</span> <span class="fu">expand.grid</span>(<span class="at">coin=</span>coinflip, <span class="at">die=</span>dieroll) </span>
<span id="cb7-4"><a href="counting-sets-and-probability-basics.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39;die&#39; is the name of the column listing the outcomes of the die roll, </span></span>
<span id="cb7-5"><a href="counting-sets-and-probability-basics.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># and &#39;coin&#39; is the name of the column listing the outcomes of the coin flip</span></span>
<span id="cb7-6"><a href="counting-sets-and-probability-basics.html#cb7-6" aria-hidden="true" tabindex="-1"></a>S</span></code></pre></div>
<pre><code>##    coin die
## 1     H   1
## 2     T   1
## 3     H   2
## 4     T   2
## 5     H   3
## 6     T   3
## 7     H   4
## 8     T   4
## 9     H   5
## 10    T   5
## 11    H   6
## 12    T   6</code></pre>
<!--    coin die -->
<!-- 1     H   1 -->
<!-- 2     T   1 -->
<!-- 3     H   2 -->
<!-- 4     T   2 -->
<!-- 5     H   3 -->
<!-- 6     T   3 -->
<!-- 7     H   4 -->
<!-- 8     T   4 -->
<!-- 9     H   5 -->
<!-- 10    T   5 -->
<!-- 11    H   6 -->
<!-- 12    T   6 -->
<p><em>Example</em>: flipping 3 coins:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="counting-sets-and-probability-basics.html#cb9-1" aria-hidden="true" tabindex="-1"></a>coinflip<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;H&quot;</span>,<span class="st">&quot;T&quot;</span>)</span>
<span id="cb9-2"><a href="counting-sets-and-probability-basics.html#cb9-2" aria-hidden="true" tabindex="-1"></a>S <span class="ot">=</span> <span class="fu">expand.grid</span>(<span class="at">coin1=</span>coinflip, <span class="at">coin2=</span>coinflip, <span class="at">coin3=</span>coinflip)</span>
<span id="cb9-3"><a href="counting-sets-and-probability-basics.html#cb9-3" aria-hidden="true" tabindex="-1"></a>S</span></code></pre></div>
<pre><code>##   coin1 coin2 coin3
## 1     H     H     H
## 2     T     H     H
## 3     H     T     H
## 4     T     T     H
## 5     H     H     T
## 6     T     H     T
## 7     H     T     T
## 8     T     T     T</code></pre>
<p><em>Example</em>: list of all 2-letter “syllables” with a consonant followed by a vowel. Note that many of these may not actually be valid syllables in the English language.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="counting-sets-and-probability-basics.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># &#39;letters&#39; is a built-in list of all lower-case letters</span></span>
<span id="cb11-2"><a href="counting-sets-and-probability-basics.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># &#39;LETTERS&#39; is a built-in list of all upper-case letters</span></span>
<span id="cb11-3"><a href="counting-sets-and-probability-basics.html#cb11-3" aria-hidden="true" tabindex="-1"></a>vowels<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;e&quot;</span>,<span class="st">&quot;i&quot;</span>,<span class="st">&quot;o&quot;</span>,<span class="st">&quot;u&quot;</span>)</span>
<span id="cb11-4"><a href="counting-sets-and-probability-basics.html#cb11-4" aria-hidden="true" tabindex="-1"></a>consonants<span class="ot">=</span><span class="fu">setdiff</span>(letters,vowels)</span>
<span id="cb11-5"><a href="counting-sets-and-probability-basics.html#cb11-5" aria-hidden="true" tabindex="-1"></a>S <span class="ot">=</span> <span class="fu">expand.grid</span>(<span class="at">letter1_c=</span>consonants, <span class="at">letter2_v=</span>vowels)</span>
<span id="cb11-6"><a href="counting-sets-and-probability-basics.html#cb11-6" aria-hidden="true" tabindex="-1"></a>S</span></code></pre></div>
<pre><code>##     letter1_c letter2_v
## 1           b         a
## 2           c         a
## 3           d         a
## 4           f         a
## 5           g         a
## 6           h         a
## 7           j         a
## 8           k         a
## 9           l         a
## 10          m         a
## 11          n         a
## 12          p         a
## 13          q         a
## 14          r         a
## 15          s         a
## 16          t         a
## 17          v         a
## 18          w         a
## 19          x         a
## 20          y         a
## 21          z         a
## 22          b         e
## 23          c         e
## 24          d         e
## 25          f         e
## 26          g         e
## 27          h         e
## 28          j         e
## 29          k         e
## 30          l         e
## 31          m         e
## 32          n         e
## 33          p         e
## 34          q         e
## 35          r         e
## 36          s         e
## 37          t         e
## 38          v         e
## 39          w         e
## 40          x         e
## 41          y         e
## 42          z         e
## 43          b         i
## 44          c         i
## 45          d         i
## 46          f         i
## 47          g         i
## 48          h         i
## 49          j         i
## 50          k         i
## 51          l         i
## 52          m         i
## 53          n         i
## 54          p         i
## 55          q         i
## 56          r         i
## 57          s         i
## 58          t         i
## 59          v         i
## 60          w         i
## 61          x         i
## 62          y         i
## 63          z         i
## 64          b         o
## 65          c         o
## 66          d         o
## 67          f         o
## 68          g         o
## 69          h         o
## 70          j         o
## 71          k         o
## 72          l         o
## 73          m         o
## 74          n         o
## 75          p         o
## 76          q         o
## 77          r         o
## 78          s         o
## 79          t         o
## 80          v         o
## 81          w         o
## 82          x         o
## 83          y         o
## 84          z         o
## 85          b         u
## 86          c         u
## 87          d         u
## 88          f         u
## 89          g         u
## 90          h         u
## 91          j         u
## 92          k         u
## 93          l         u
## 94          m         u
## 95          n         u
## 96          p         u
## 97          q         u
## 98          r         u
## 99          s         u
## 100         t         u
## 101         v         u
## 102         w         u
## 103         x         u
## 104         y         u
## 105         z         u</code></pre>
</div>
<div id="events" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Events<a href="counting-sets-and-probability-basics.html#events" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An <strong>event</strong> is a set of outcomes. Events are usually denoted by capital letters, e.g. <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span>, <span class="math inline">\(C\)</span>, etc. They can be described in words or with the outcomes listed as a set in “{}” curly brackets.</p>
<p>Examples:</p>
<ul>
<li>Flipping a coin. Event <span class="math inline">\(A=\)</span> {heads}. Event <span class="math inline">\(B=\{T\}\)</span>.</li>
<li>Flipping two coins. Event <span class="math inline">\(A=\)</span> no heads, Event <span class="math inline">\(B=\)</span> {1 head and 1 tail}. Event <span class="math inline">\(C=\)</span> {TT,TH} = {first coin is tails}.</li>
<li>Rolling a 6-sided die. Event <span class="math inline">\(A=\)</span> {even}. Event <span class="math inline">\(B=\)</span>{greater than 4}={5,6}.</li>
</ul>
</div>
</div>
<div id="set-operations" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Set Operations<a href="counting-sets-and-probability-basics.html#set-operations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here is a review of the primary operations we will use with sets.</p>
<ul>
<li>Union: all outcomes that are in the events, <span class="math inline">\(A\cup B\)</span></li>
<li>Intersection: all outcomes common to the events being intersected, <span class="math inline">\(A\cap B\)</span></li>
<li>Complement: all outcomes not in the given event, <span class="math inline">\(A^c\)</span></li>
<li>Set Difference: all outcomes in one event that are not in the other, <span class="math inline">\(A-B\)</span>, note that <span class="math inline">\(A-B=A\cap B^c\)</span></li>
</ul>
<p><em>Example</em>: Let <span class="math inline">\(A=\{1,2,3,4\}\)</span>, and <span class="math inline">\(B=\{2,4,6\}\)</span> be events from sample space <span class="math inline">\(S=\{1,2,3,4,5,6\}\)</span>.</p>
<ul>
<li><span class="math inline">\(A\cup B=\{1,2,3,4,6\}\)</span>, R command: <code>union(A,B)</code></li>
<li><span class="math inline">\(A\cap B=\{2,4\}\)</span>, R command: <code>intersect(A,B)</code></li>
<li><span class="math inline">\(A^c=\{5,6\}\)</span></li>
<li><span class="math inline">\(A-B=\{1,3\}\)</span> Note that <span class="math inline">\(A^c=S-A\)</span>. R command: <code>setdiff(A,B)</code></li>
</ul>
<p>Two sets are called <strong>disjoint</strong> if they have empty intersection <span class="math inline">\(A\cap B=\emptyset\)</span>. When sets represent events for a random experiment and are disjoint, we call them <strong>mutually exclusive</strong>.</p>
<p>In order to do a set complement in R, we will need to specify the sample space and to a set difference: <span class="math inline">\(A^c=S-A=\)</span><code>setdiff(S,A)</code>.</p>
<p><em>Example</em> with rolling a 6-sided die:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="counting-sets-and-probability-basics.html#cb13-1" aria-hidden="true" tabindex="-1"></a>S<span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span> <span class="co"># sample space is {1,2,3,4,5,6}</span></span>
<span id="cb13-2"><a href="counting-sets-and-probability-basics.html#cb13-2" aria-hidden="true" tabindex="-1"></a>A<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>)</span>
<span id="cb13-3"><a href="counting-sets-and-probability-basics.html#cb13-3" aria-hidden="true" tabindex="-1"></a>B<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb13-4"><a href="counting-sets-and-probability-basics.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">union</span>(A,B)</span></code></pre></div>
<pre><code>## [1] 2 4 6 1 3</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="counting-sets-and-probability-basics.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(A,B)</span></code></pre></div>
<pre><code>## [1] 2 4</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="counting-sets-and-probability-basics.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(A,B) <span class="co"># A-B</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="counting-sets-and-probability-basics.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(S,A) <span class="co"># A complement</span></span></code></pre></div>
<pre><code>## [1] 1 3 5</code></pre>
<p>We can take unions and intersections of more than two sets also:
<span class="math display">\[\bigcup_{k=1}^n A_k=A_1\cup A_2\cup\cdots \cup A_n\]</span>
<span class="math display">\[\bigcap_{k=1}^n A_k=A_1\cap A_2\cap\cdots \cap A_n\]</span></p>
<p>If we have a <em>countably infinite</em> number of events, <span class="math inline">\(A_1,A_2,\ldots\)</span> where there is no end to the list of events, so-to-speak, we can still take their union and intersection:
<span class="math display">\[\bigcup_{k=1}^\infty A_k=A_1\cup A_2\cup\cdots\]</span>
<span class="math display">\[\bigcap_{k=1}^\infty A_k=A_1\cap A_2\cap\cdots \]</span>
It may be difficult to imagine what an infinite list of events looks like or how it could be used. Usually infinite unions and intersections are only encountered in more advanced probability and statistics courses, but at this level, you just need to be exposed to the idea. The most important thing is to understand the union and intersection notation for a finite list of events.</p>
<p>Associative Laws:</p>
<p><span class="math inline">\((A\cup B)\cup C = A\cup (B\cup C)\)</span><br>
<span class="math inline">\((A\cap B)\cap C = A\cap (B\cap C)\)</span></p>
<p>Distributive Laws:</p>
<p><span class="math inline">\((A\cup B)\cap C = (A\cap C)\cup (B\cap C)\)</span><br>
<span class="math inline">\((A\cap B)\cup C = (A\cup C)\cap (B\cup C)\)</span></p>
<p>DeMorgan’s Laws:</p>
<p><span class="math inline">\((A\cup B)^c=A^c \cap B^c\)</span> <br>
<span class="math inline">\((A\cap B)^c=A^c \cup B^c\)</span></p>
<p>Inclusion/exclusion rules (for size of sets):</p>
<p><span class="math inline">\(|A\cup B| =|A|+|B|-|A\cap B|\)</span><br>
<span class="math inline">\(\begin{aligned} |A\cup B\cup C| =&amp;|A|+|B|+|C|\\ &amp;-|A\cap B|-|A\cap C|-|B\cap C|\\ &amp;+|A\cap B\cap C| \end{aligned}\)</span></p>
<p>Note that <span class="math inline">\(|A|\)</span> denotes the size of set <span class="math inline">\(A\)</span>, which is the number of outcomes in the set. In R, we can accomplish this for a simple list/vector with <code>length(A)</code>, e.g. <code>A=c(2,4,6); length(A)</code>. If <span class="math inline">\(A\)</span> is not merely a set, list, or vector but has a table-like structure, then instead of <code>length(A)</code>, we might want to use <code>nrow(A)</code> to get the number of rows or <code>ncol(A)</code> to get the number of columns.</p>
</div>
<div id="venn-diagrams" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Venn Diagrams<a href="counting-sets-and-probability-basics.html#venn-diagrams" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Graphing the Venn diagrams in R will require package call “VennDiagram”. To install that package, issue the command:
<code>install.packages("VennDiagram")</code>
After the package is installed, we’ll have to load it into R using <code>require(VennDiagram)</code> or <code>library(VennDiagram)</code>. You will likely see some output on the screen in red colored text showing you what functions or packages have been loaded and possibly giving some warning messages. You can mostly ignore this text unless it explicitly gives an error saying the package is not found or was not loaded. Usually, it will be clear if that is the case.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="counting-sets-and-probability-basics.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># note that before issuing this command, </span></span>
<span id="cb21-2"><a href="counting-sets-and-probability-basics.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># you need to have the &quot;VennDiagram&quot;&quot; package installed&quot;</span></span>
<span id="cb21-3"><a href="counting-sets-and-probability-basics.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># you caninstall it with `install.packages(&quot;VennDiagram&quot;)`</span></span>
<span id="cb21-4"><a href="counting-sets-and-probability-basics.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(VennDiagram)</span></code></pre></div>
<p>Now that the Venn diagram package and its associated commands are loaded, we can draw a Venn diagram:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="counting-sets-and-probability-basics.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.newpage</span>()</span>
<span id="cb22-2"><a href="counting-sets-and-probability-basics.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">draw.pairwise.venn</span>(<span class="at">area1 =</span> <span class="dv">25</span>, <span class="at">area2 =</span> <span class="dv">30</span>, <span class="at">cross.area =</span> <span class="dv">12</span>, </span>
<span id="cb22-3"><a href="counting-sets-and-probability-basics.html#cb22-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">category =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>),</span>
<span id="cb22-4"><a href="counting-sets-and-probability-basics.html#cb22-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fill=</span><span class="fu">c</span>(<span class="fu">rgb</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>),<span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>)),</span>
<span id="cb22-5"><a href="counting-sets-and-probability-basics.html#cb22-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">alpha=</span><span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">0.25</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>You’ll notice that R prints to the screen some information about the polygons that have been drawn. You don’t need to pay attention to this information about the polygons. From the figure above, we can see that <span class="math inline">\(|A|\)</span>=25, <span class="math inline">\(|B|\)</span>=30, and <span class="math inline">\(|A\cap B|\)</span>=12.</p>
<p>Venn diagrams can also be drawn with three sets:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="counting-sets-and-probability-basics.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.newpage</span>()</span>
<span id="cb23-2"><a href="counting-sets-and-probability-basics.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">draw.triple.venn</span>(<span class="at">area1 =</span> <span class="dv">22</span>, <span class="at">area2 =</span> <span class="dv">20</span>, <span class="at">area3 =</span> <span class="dv">13</span>, </span>
<span id="cb23-3"><a href="counting-sets-and-probability-basics.html#cb23-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">n12 =</span> <span class="dv">11</span>, <span class="at">n23 =</span> <span class="dv">4</span>, <span class="at">n13 =</span> <span class="dv">5</span>, </span>
<span id="cb23-4"><a href="counting-sets-and-probability-basics.html#cb23-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">n123 =</span> <span class="dv">1</span>, </span>
<span id="cb23-5"><a href="counting-sets-and-probability-basics.html#cb23-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">category =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>),</span>
<span id="cb23-6"><a href="counting-sets-and-probability-basics.html#cb23-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">&quot;skyblue&quot;</span>, <span class="st">&quot;pink1&quot;</span>, <span class="st">&quot;mediumorchid&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<!-- Write something on interpretation of conditional probability using Venn diagram: -->
<!-- Consider a Venn diagram where everything is drawn proportionally so that the area for the region corresponding to event A relative the the area of the entire Venn diagram is exactly the probability of A. We are to toss a dart at the diagram. Assume it actually lands on the diagram and that it is equally likely to land at any point in the diagram. Then the probability it lands in the region indicating event A  is exactly P(A) since this is just the relative ratio of areas of the A region to the entire diagram. This is an intuitive explanation of probability that is similar to the "ticket in a box" idea. -->
<!-- Now to understand P(A\mid B)=\frac{P(A\cap B)}{P(B)} we just have to modify this intuition. Now we are tossing darts at the diagram, but assuming they land in the region indicating event B (again everything is drawn with areas in proportion to the actual probabilities). Then the probability it lands in the part of B that is also part of A (the intersection) is exactly the ratio of areas of A\cap B and B. This ratio of areas is identical to the ratio of probabilities in the definition of conditional probability. -->
</div>
<div id="counting-permutations-and-combinations" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Counting, permutations, and combinations<a href="counting-sets-and-probability-basics.html#counting-permutations-and-combinations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In order to calculate probabilities, we will often need to be able to count the number of outcomes in the sample space and in particular events.</p>
<div id="multiplication-rule" class="section level3 hasAnchor" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> Multiplication rule<a href="counting-sets-and-probability-basics.html#multiplication-rule" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If we perform an experiment where the outcome has two different parts (e.g. a coin flip and a die roll) then the total number of possibilities is the product of the number of possibilities for each part: <span class="math inline">\(n=n_1\cdot n_2\)</span>. If there are many parts, e.g. roll several dice with different numbers of sides, then we multiply the number of possibilities for each:
<span class="math display">\[n=n_1\cdot n_2\cdot \cdots n_k.\]</span>
Example: If we roll a 6-sided die, flip a coin, roll a 20-sided die, and roll two 4-sided dice, then the total number of outcomes is <span class="math inline">\(n=6\cdot 2 \cdot 20 \cdot4\cdot4\)</span>.</p>
<p>This rule can also work, if instead of having multiple distinct parts (like several physical objects), the outcome of an experiment could have multiple observable characteristics that need to be determined. Assume we have a box that contains tokens, and each token is painted a specific color (green, blue, or red), and labeled with a number (1,2,3,4,or 5) and a letter (A or B). Assume that there are 10 tokens of each color so that every combination has exactly one token. Let’s list out the sample space using R.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="counting-sets-and-probability-basics.html#cb24-1" aria-hidden="true" tabindex="-1"></a>token_colors<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;green&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;red&quot;</span>)</span>
<span id="cb24-2"><a href="counting-sets-and-probability-basics.html#cb24-2" aria-hidden="true" tabindex="-1"></a>token_numbers<span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb24-3"><a href="counting-sets-and-probability-basics.html#cb24-3" aria-hidden="true" tabindex="-1"></a>token_letters<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>)</span>
<span id="cb24-4"><a href="counting-sets-and-probability-basics.html#cb24-4" aria-hidden="true" tabindex="-1"></a>S <span class="ot">=</span> <span class="fu">expand.grid</span>(<span class="at">color=</span>token_colors, <span class="at">number=</span>token_numbers, <span class="at">letter=</span>token_letters)</span>
<span id="cb24-5"><a href="counting-sets-and-probability-basics.html#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(S)</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>Now we can see that the size of the sample space is</p>
<p><span class="math display">\[
\begin{aligned}
|S|&amp;=\{\text{# of colors}\}\cdot\{\text{# of numbers}\}\cdot\{\text{# of letters}\}\\
&amp;=3\cdot5\cdot2=30.
\end{aligned}
\]</span></p>
<p>It is important here that we have the token attributes are evenly distributed so-to-speak, i.e. if each color had a different list of labels such as 3 numerical labels for green tokens and 5 numerical labels for red tokens, then this technique would not work exactly as stated. Each specific attribute must have the same number of repetitions of the other attributes.</p>
</div>
<div id="nk" class="section level3 hasAnchor" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> <span class="math inline">\(n^k\)</span><a href="counting-sets-and-probability-basics.html#nk" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Assume we have <span class="math inline">\(n\)</span> distinct objects to choose from. These <span class="math inline">\(n\)</span> objects could be the numbers 1 to 10, 5 types of drinks, or 20 students in a class. We will select <span class="math inline">\(k\)</span> of these objects in a variety of different ways.</p>
<p>If we select the <span class="math inline">\(k\)</span> objects one at a time, replacing each as we go, then the total number of possibilities is <span class="math inline">\(n^k\)</span>. Here we are allowing for the same object selected multiple times (repetition), and we are concerned with the order of the selection. This is an application of the multiplication rule.</p>
<p>Now let us assume we have <span class="math inline">\(n\)</span> objects to arrange in order. We’ll make <span class="math inline">\(k\)</span> spaces which we will fill with the objects.
<span class="math display">\[
\underset{\text{obj. $1$}}{\underbrace{\qquad\quad}} \
\underset{\text{obj. 2}}{\underbrace{\qquad\quad}} \
\underset{\text{obj. 3}}{\underbrace{\qquad\quad}} \
\cdots \
\underset{\text{obj. $k-1$}}{\underbrace{\qquad\quad}} \
\underset{\text{obj. $k$}}{\underbrace{\qquad\quad}}
\]</span>
For each space, we have all <span class="math inline">\(n\)</span> objects to choose from since we will draw an object, record which we have drawn, then replace that object and draw for the next space.</p>
<p><span class="math display">\[
\overset{n}{\underset{\text{obj. $1$}}{\underbrace{\qquad\quad}}} \
\overset{n}{\underset{\text{obj. 2}}{\underbrace{\qquad\quad}}} \
\overset{n}{\underset{\text{obj. 3}}{\underbrace{\qquad\quad}}} \
\cdots \
\overset{n}{\underset{\text{obj. $k-1$}}{\underbrace{\qquad\quad}}} \
\overset{n}{\underset{\text{obj. $k$}}{\underbrace{\qquad\quad}}}
\]</span></p>
</div>
<div id="factorials" class="section level3 hasAnchor" number="2.6.3">
<h3><span class="header-section-number">2.6.3</span> Factorials<a href="counting-sets-and-probability-basics.html#factorials" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now let us assume we have <span class="math inline">\(n\)</span> objects to arrange in order. The difference is that now, each time we select an object to fill a space, we will not replace it, thus will reduce our total number of options for the next space. This will result in an ordered arrangement of <span class="math inline">\(n\)</span> objects. This is often called a <em>permutation</em> of <span class="math inline">\(n\)</span> distinguishable objects. They are called distinguishable since swapping any two results in a distinct ordering or permutation.</p>
<p>Again we’ll make <span class="math inline">\(n\)</span> spaces which we will fill with the objects.</p>
<p><span class="math display">\[
\underset{\text{obj. $1$}}{\underbrace{\qquad\quad}} \
\underset{\text{obj. 2}}{\underbrace{\qquad\quad}} \
\underset{\text{obj. 3}}{\underbrace{\qquad\quad}} \
\cdots \
\underset{\text{obj. $n-1$}}{\underbrace{\qquad\quad}} \
\underset{\text{obj. $n$}}{\underbrace{\qquad\quad}}
\]</span>
We will count how many choices we have to fill each space. The first space has <span class="math inline">\(n\)</span> total choices. After putting an object in the first space, we only have <span class="math inline">\(n-1\)</span> objects left to select from, since we are drawing without replacement. Our available choices decrease by one each time we select an object to put in a space. The result is as follows.</p>
<p><span class="math display">\[
\overset{n}{\underset{\text{obj. $1$}}{\underbrace{\qquad\quad}}} \
\overset{n-1}{\underset{\text{obj. 2}}{\underbrace{\qquad\quad}}} \
\overset{n-2}{\underset{\text{obj. 3}}{\underbrace{\qquad\quad}}} \
\cdots \
\overset{2}{\underset{\text{obj. $n-1$}}{\underbrace{\qquad\quad}}} \
\overset{1}{\underset{\text{obj. $n$}}{\underbrace{\qquad\quad}}}
\]</span>
Then we use the multiplication rule. So the total number of ways to arrange them is the product <span class="math inline">\(n(n-1)(n-2)\cdots3\cdot2\cdot1\)</span>. This is denoted by a factorial:</p>
<p><span class="math display">\[n!=n\cdot(n-1)\cdot(n-2)\cdots3\cdot2\cdot1\]</span>
Note that by definition, <span class="math inline">\(0!=1\)</span>. A factorial in R can be evaluated as <code>factorial(n)</code>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="counting-sets-and-probability-basics.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factorial</span>(<span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="counting-sets-and-probability-basics.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factorial</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="counting-sets-and-probability-basics.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factorial</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="counting-sets-and-probability-basics.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factorial</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))</span></code></pre></div>
<pre><code>## [1]  1  1  2  6 24</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="counting-sets-and-probability-basics.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factorial</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 3628800</code></pre>
</div>
<div id="permutation" class="section level3 hasAnchor" number="2.6.4">
<h3><span class="header-section-number">2.6.4</span> Permutation<a href="counting-sets-and-probability-basics.html#permutation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we are still starting with <span class="math inline">\(n\)</span> total objects to choose from. If we select <span class="math inline">\(k\)</span> objects one at a time, but do not replace them as we go and we are concerned with the order we draw them in, then a <strong>permutation</strong> results, and there are <span class="math inline">\(\frac{n!}{(n-k)!}\)</span> possibilities. This is denoted differently in different texts as <span class="math inline">\(_nP_k\)</span>, <span class="math inline">\(P_{n,k}\)</span>, or <span class="math inline">\(P_{k,n}\)</span> for <span class="math inline">\(k\le n\)</span>. I recommend always writing it out as factorials. Here it is important that <span class="math inline">\(0\le k\le n\)</span>.</p>
<p>The best way to evaluate a permutation in R is with factorials</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="counting-sets-and-probability-basics.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># permute 3 out of 10</span></span>
<span id="cb36-2"><a href="counting-sets-and-probability-basics.html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">factorial</span>(<span class="dv">10</span>)<span class="sc">/</span><span class="fu">factorial</span>(<span class="dv">10-3</span>)</span></code></pre></div>
<pre><code>## [1] 720</code></pre>
<p>A permutation can be illustrated just as above, by listing out <span class="math inline">\(k\)</span> spaces and writing in the number of possibilities for each space, but the last space will not have only 1 possibility.</p>
<p><span class="math display">\[
\overset{n}{\underset{\text{obj. $1$}}{\underbrace{\qquad\quad}}} \
\overset{n-1}{\underset{\text{obj. 2}}{\underbrace{\qquad\quad}}} \
\overset{n-2}{\underset{\text{obj. 3}}{\underbrace{\qquad\quad}}} \
\cdots \
\overset{n-(k-2)}{\underset{\text{obj. $k-1$}}{\underbrace{\qquad\quad}}} \
\overset{n-(k-1)}{\underset{\text{obj. $k$}}{\underbrace{\qquad\quad}}}
\]</span>
The result is identical to multiplying from <span class="math inline">\(n\)</span> all the way down to 1 but then dividing by <span class="math inline">\((n-k)!\)</span> as is done in the factorial formula for a permutation.</p>
</div>
<div id="combination" class="section level3 hasAnchor" number="2.6.5">
<h3><span class="header-section-number">2.6.5</span> Combination<a href="counting-sets-and-probability-basics.html#combination" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If we select <span class="math inline">\(k\)</span> objects out of <span class="math inline">\(n\)</span> choices (again with <span class="math inline">\(0\le k\le n\)</span>) either one at a time without replacement and do not care about the order they are drawn in, or if we just drew all <span class="math inline">\(k\)</span> at once, then a <strong>combination</strong> results. The total number of possibilities is <span class="math inline">\({n\choose k} = \frac{n!}{k!(n-k)!}\)</span> for <span class="math inline">\(k\le n\)</span>. Again, this is variously denoted as <span class="math inline">\(_nC_k\)</span>, <span class="math inline">\(C_{n,k}\)</span>, or <span class="math inline">\(C_{k,n}\)</span>. I recommend the parentheses notation or just writing
it out as factorials.</p>
<p>The best way to evaluate a combination in R is with factorials</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="counting-sets-and-probability-basics.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># choose 3 out of 10</span></span>
<span id="cb38-2"><a href="counting-sets-and-probability-basics.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">factorial</span>(<span class="dv">10</span>)<span class="sc">/</span><span class="fu">factorial</span>(<span class="dv">10-3</span>)<span class="sc">/</span><span class="fu">factorial</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 120</code></pre>
<p>Alternatively, we can use the <code>choose(n,k)</code> R command:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="counting-sets-and-probability-basics.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># choose 3 out of 10</span></span>
<span id="cb40-2"><a href="counting-sets-and-probability-basics.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">choose</span>(<span class="dv">10</span>,<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 120</code></pre>
</div>
<div id="summary-of-counting" class="section level3 hasAnchor" number="2.6.6">
<h3><span class="header-section-number">2.6.6</span> Summary of counting<a href="counting-sets-and-probability-basics.html#summary-of-counting" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Examples</em>:</p>
<ul>
<li>Suppose we have a combination lock with a turn dial that has numbers 1 to 36 on it. A combination consists of three numbers in sequence.Assume that we can have all three numbers the same as you still have to make a complete 360 degree rotation between numbers. Then the total number of allowable combinations is <span class="math inline">\(36^3\)</span>.</li>
<li>Suppose 150 people are running a race where first, second, and third place will be awarded. How many possible outcomes are there? Here is a situation where order clearly matters, and beyond third place, we will not concern ourselves with the order of the contestants. This is a <em>permutation</em>, “permute 3 out of 100”, so there are <span class="math inline">\(\frac{150!}{(150-3)!}=150\cdot 149\cdot 148\)</span> possible outcomes.</li>
<li>Suppose we have a class of 35 students, and 5 of them will be selected to form a group for a project. Here we are not concerned with the order they are selected in, we just want to know which students will be chosen for the group. We are creating a subset of the total class of students. This is a <em>combination</em> so there are <span class="math inline">\({35\choose5}\)</span> total possibilities.</li>
<li>Consider the last example above. If we were instead going to assign the 5 students distinct roles in the group, e.g. group leader, note taker, researcher, materials gatherer, and data analyzer, then we would be forming different groups even if we had the same 5 students but assigned the roles differently among them. So this becomes a permutation, and there would be <span class="math inline">\(\frac{35!}{(35-5)!}=\frac{35!}{30!}=35\cdot34\cdot33\cdot32\cdot31\)</span> total possible groups (different assignment of group roles results in a different group here).</li>
</ul>
<p>Summary table for the counting methods discussed above:</p>
<!-- <style>  -->
<!--   .flat-table { -->
<!--     font-family: sans-serif; -->
<!--     -webkit-font-smoothing: antialiased; -->
<!--     font-size: 115%; -->
<!--   } -->
<!--   thead { -->
<!--     background-color: rgb(180, 80, 80); -->
<!--     color: white; -->
<!--     font-weight: normal; -->
<!--     padding: 0px 0px; -->
<!--     text-align: center; -->
<!--   } -->
<!--   tbody { -->
<!--     background-color: rgb(245, 245, 245); -->
<!--     color: rgb(111, 111, 111); -->
<!--     padding: 0px 0px; -->
<!--   } -->
<!--   tbody tr:hover { -->
<!--   background: rgb(250, 250, 250); -->
<!--   }     -->
<!-- </style> -->
<!-- <style> -->
<!-- div.box2 { background-color:#ffffff; border-radius: 0px; padding: 0px; outline: 1px solid black;} -->
<!-- </style> -->
<!-- <div class = "box2"> -->
<table>
<colgroup>
<col width="31%" />
<col width="42%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>without replacement</th>
<th>with replacement</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>order matters</td>
<td>permutation: <span class="math inline">\(\frac{n!}{(n-k)!}\)</span></td>
<td><span class="math inline">\(n^k\)</span></td>
</tr>
<tr class="even">
<td>order doesn’t matter</td>
<td>combination: <span class="math inline">\({n\choose k}=\frac{n!}{k!(n-k)!}\)</span></td>
<td>(<em>special case</em>)</td>
</tr>
</tbody>
</table>
<!-- </div> -->
</div>
<div id="special-case-with-replacement-order-doesnt-matter-the-multiset" class="section level3 hasAnchor" number="2.6.7">
<h3><span class="header-section-number">2.6.7</span> Special case: with replacement, order doesn’t matter: the multiset<a href="counting-sets-and-probability-basics.html#special-case-with-replacement-order-doesnt-matter-the-multiset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Choosing with replacement, but order does not matter is the most complicated case. Consider throwing <span class="math inline">\(k\)</span> balls into <span class="math inline">\(n\)</span> boxes. If we have the boxes labeled and want to know how many balls are in each box, e.g. 5 in the first box, none in the second box, 2 is the third box, etc., then the number of outcomes is given by <span class="math inline">\({n-1+k\choose k}\)</span>. In this case <span class="math inline">\(k\)</span> and <span class="math inline">\(n\)</span> can be any numbers and <span class="math inline">\(k\le n\)</span> is not required.</p>
<p>Here is an example of tossing 10 balls into 7 boxes. We will pretend the boxes are all adjacent so that among the 7 boxes, there are actually only 8 dividers or walls since adjacent boxes share a wall. We need to arrange the inner 6 dividers between the boxes and the 10 balls. We only need the inner 6 dividers between the boxes because the locations of the outermost left and right walls do not need to be determined.</p>
<p><span class="math display">\[
\underset{\text{box 1}}{\underbrace{\qquad}}|
\underset{\text{box 2}}{\underbrace{\qquad}}|
\underset{\text{box 3}}{\underbrace{\qquad}}|
\underset{\text{box 4}}{\underbrace{\qquad}}|
\underset{\text{box 5}}{\underbrace{\qquad}}|
\underset{\text{box 6}}{\underbrace{\qquad}}|
\underset{\text{box 7}}{\underbrace{\qquad}}
\]</span>
Now we toss the balls in either all at once or one-by-one, it doesn’t matter because we don’t care for the order of the balls. Assume they land like this:</p>
<p><span class="math display">\[
\underset{\text{box 1}}{\underbrace{\ \bullet\bullet \ }}|
\underset{\text{box 2}}{\underbrace{\bullet\bullet\bullet}}|
\underset{\text{box 3}}{\underbrace{\qquad}}|
\underset{\text{box 4}}{\underbrace{\ \ \bullet \ \ }}|
\underset{\text{box 5}}{\underbrace{\bullet\bullet\bullet\bullet}}|
\underset{\text{box 6}}{\underbrace{\qquad}}|
\underset{\text{box 7}}{\underbrace{\qquad}}
\]</span>
Now we will drop the box labels, and this particular outcome will look as follows.</p>
<p><span class="math display">\[\cdot\cdot|\cdot\cdot\cdot||\cdot|\cdot\cdot\cdot\cdot||\]</span>
In order to determine all possible outcomes here, we just need to figure out how many ways we can shuffle around the balls and inner dividers. If there are <span class="math inline">\(n\)</span> boxes, then there are <span class="math inline">\(n-1\)</span> inner dividers. So we have <span class="math inline">\(n-1\)</span> dividers and <span class="math inline">\(k\)</span> balls. This is a total of <span class="math inline">\(n-1+k\)</span> symbols to rearrange. We don’t care what order they are arranged in though, since the balls are all identical as are the dividers. So we will use a combination. There are a total of <span class="math inline">\(n-1+k\)</span> slots to fill with a symbol, and we will just choose the <span class="math inline">\(k\)</span> slots to put the balls. Then the divider symbols automatically go in the remaining <span class="math inline">\(n-1\)</span> spaces.</p>
<p>Here is is illustrated for a simple case, 4 balls and 3 boxes. Here are the boxes with inner dividers:</p>
<p><span class="math display">\[
\underset{\text{box 1}}{\underbrace{\qquad}}|
\underset{\text{box 2}}{\underbrace{\qquad}}|
\underset{\text{box 3}}{\underbrace{\qquad}}
\]</span></p>
<p>Here are the spaces that we will fill with balls and inner dividers:</p>
<p><span class="math display">\[
\underset{\text{space 1}}{\underbrace{\qquad}} \ \
\underset{\text{space 2}}{\underbrace{\qquad}} \ \
\underset{\text{space 3}}{\underbrace{\qquad}} \ \
\underset{\text{space 4}}{\underbrace{\qquad}} \ \
\underset{\text{space 5}}{\underbrace{\qquad}} \ \
\underset{\text{space 6}}{\underbrace{\qquad}}
\]</span></p>
<p>Here is a possible outcome. Let’s just drop the 4 balls in some spaces:</p>
<p><span class="math display">\[
\underset{\text{space 1}}{\underbrace{ \ \ \bullet \ \ }} \ \
\underset{\text{space 2}}{\underbrace{\qquad}} \ \
\underset{\text{space 3}}{\underbrace{ \ \ \bullet \ \ }} \ \
\underset{\text{space 4}}{\underbrace{ \ \ \bullet \ \ }} \ \
\underset{\text{space 5}}{\underbrace{ \ \ \bullet \ \ }} \ \
\underset{\text{space 6}}{\underbrace{\qquad}}
\]</span></p>
<p>Now the remaining 2 spaces will be filled with the 2 inner dividers:</p>
<!-- $$ -->
<!-- \underbrace{\qquad\underbrace{ \ \ \bullet \ \ }_\text{space 1} \ \ -->
<!-- \underbrace{\  \ \  |  \ \ \ }_\text{space 2} }_\text{box 1} \ \ -->
<!-- \underbrace{\quad\underbrace{ \ \ \bullet \ \ }_\text{space 3} \ \ -->
<!-- \underbrace{ \ \ \bullet \ \ }_\text{space 4} \ \ -->
<!-- \underbrace{ \ \ \bullet \ \ }_\text{space 5} \ \ -->
<!-- \underbrace{ \ \ \  |  \ \ \ }_\text{space 6} }_\text{box 2}  -->
<!-- \underbrace{\qquad\phantom{\underbrace{\qquad}_\text{space 6}}}_\text{box 3} -->
<!-- $$ -->
<p><span class="math display">\[
\underbrace{ \ \ \bullet \ \ }_\text{space 1} \ \
\underbrace{\  \ \  |  \ \ \ }_\text{space 2}  \ \
\underbrace{ \ \ \bullet \ \ }_\text{space 3} \ \
\underbrace{ \ \ \bullet \ \ }_\text{space 4} \ \
\underbrace{ \ \ \bullet \ \ }_\text{space 5} \ \
\underbrace{ \ \ \  |  \ \ \ }_\text{space 6}
\]</span>
<span class="math display">\[
\underbrace{ \qquad\qquad\qquad \ }_\text{box 1} \
\underbrace{ \qquad\qquad\qquad\qquad\qquad\qquad \ \ }_\text{box 2} \
\underbrace{ \qquad\quad \  }_\text{box 3}
\]</span></p>
<p>So that box one has 1 ball, box two has 3 balls, and box three has 0 balls.</p>
</div>
</div>
<div id="probability" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Probability<a href="counting-sets-and-probability-basics.html#probability" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="equally-likely-outcomes" class="section level3 hasAnchor" number="2.7.1">
<h3><span class="header-section-number">2.7.1</span> Equally likely outcomes<a href="counting-sets-and-probability-basics.html#equally-likely-outcomes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Many sample spaces contain a finite number of outcomes that are equally likely. This means that the probability of an event is defined as the number of outcomes in that event divided by the total number of outcomes in the sample space.
<span class="math display">\[P(A)=\frac{|A|}{|S|}\]</span></p>
<p><em>Examples</em>:</p>
<p>Flipping 3 fair coins: <span class="math inline">\(|S|=2^3=8\)</span>. Let event <span class="math inline">\(A=\)</span>{at least 2 heads}. So we can list all outcomes in <span class="math inline">\(A=\{HHH,HHT,HTH,THH\}\)</span> thus <span class="math inline">\(|A|=4\)</span> so that <span class="math inline">\(P(A)=\frac48=50\%\)</span>.</p>
<p>Rolling a fair 6-sided die: <span class="math inline">\(|S|=6\)</span>. Let <span class="math inline">\(A=\)</span>{odd}<span class="math inline">\(=\{1,3,5\}\)</span> and <span class="math inline">\(B=\)</span>{greater than 5}<span class="math inline">\(=\{6\}\)</span>. Then <span class="math inline">\(|A|=3\)</span> and <span class="math inline">\(|B|=1\)</span> so that <span class="math inline">\(P(A)=3/6\)</span> and <span class="math inline">\(P(B)=1/6\)</span>.</p>
</div>
<div id="general-probability-theory" class="section level3 hasAnchor" number="2.7.2">
<h3><span class="header-section-number">2.7.2</span> General probability theory<a href="counting-sets-and-probability-basics.html#general-probability-theory" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Axioms of probability:</p>
<ul>
<li><span class="math inline">\(0\leq P(A)\)</span> for any event <span class="math inline">\(A\)</span>.</li>
<li><span class="math inline">\(P(S)=1\)</span> for sample space <span class="math inline">\(S\)</span>.</li>
<li>If <span class="math inline">\(A_1,A_2,\ldots\)</span> are mutually exclusive events (all intersections are empty), then <span class="math inline">\(P(A_1\cup A_2\cup \cdots)=P(A_i)+P(A_2)+\cdots\)</span>.</li>
</ul>
<p>Note that the last axiom can involve a finite number of events or even an infinite number of events. Some consequences of the above axioms:</p>
<ul>
<li><span class="math inline">\(P(\emptyset)=0\)</span></li>
<li><span class="math inline">\(0\leq P(A)\le 1\)</span> for any event <span class="math inline">\(A\)</span>.</li>
<li>If <span class="math inline">\(A\subset B\)</span>, then <span class="math inline">\(P(A)\le P(B)\)</span>.</li>
<li><span class="math inline">\(P(A^c)=1-P(A)\)</span>.</li>
<li><span class="math inline">\(P(A-B)=P(A \cap B^c)=P(A)-P(A\cap B)\)</span></li>
</ul>
<p>Inclusion/exclusion rules:</p>
<p><span class="math inline">\(P(A\cup B) =P(A)+P(B)-P(A\cap B)\)</span><br>
<span class="math inline">\(\begin{aligned}P(A\cup B\cup C) =&amp;P(A)+P(B)+P(C)\\ &amp;-P(A\cap B)-P(A\cap C)-P(B\cap C)\\ &amp;+P(A\cap B\cap C)\end{aligned}\)</span></p>
<p><em>Example</em>: Assume that <span class="math inline">\(P(A)=0.6\)</span>, <span class="math inline">\(P(B)=0.5\)</span> and <span class="math inline">\(P(A\cap B)=0.2\)</span>, then we can calculate:</p>
<ul>
<li><span class="math inline">\(P(A\cup B)=0.6+0.5-0.2=0.9\)</span></li>
<li><span class="math inline">\(P(A^c)=1-0.6=0.4\)</span>.</li>
<li><span class="math inline">\(\begin{aligned}P(A-B)&amp;=P(A \cap B^c)\\ &amp;=P(A)-P(A\cap B)=0.6-0.2=0.4. \end{aligned}\)</span></li>
<li><span class="math inline">\(\begin{aligned}P(A^c \cap B^c)&amp;=P((A\cup B)^c) \\ &amp;=1-P(A\cup B)=1-0.9=0.1.\end{aligned}\)</span></li>
</ul>
<p>Let’s draw a Venn diagram with the probabilities:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="counting-sets-and-probability-basics.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.newpage</span>()</span>
<span id="cb42-2"><a href="counting-sets-and-probability-basics.html#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">draw.pairwise.venn</span>(<span class="at">area1 =</span> <span class="fl">0.6</span>, <span class="at">area2 =</span> <span class="fl">0.5</span>, <span class="at">cross.area =</span> <span class="fl">0.2</span>, </span>
<span id="cb42-3"><a href="counting-sets-and-probability-basics.html#cb42-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">category =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>),</span>
<span id="cb42-4"><a href="counting-sets-and-probability-basics.html#cb42-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fill=</span><span class="fu">c</span>(<span class="fu">rgb</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>),<span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>)),</span>
<span id="cb42-5"><a href="counting-sets-and-probability-basics.html#cb42-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">alpha=</span><span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">0.25</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
<div id="independence" class="section level3 hasAnchor" number="2.7.3">
<h3><span class="header-section-number">2.7.3</span> Independence<a href="counting-sets-and-probability-basics.html#independence" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are called independent if
<span class="math display">\[P(A\cap B)=P(A)\cdot P(B).\]</span></p>
<p>This is not to be confused with being disjoint (mutually exclusive), which means that <span class="math inline">\(P(A\cap B)=0\)</span>. Independence is a completely new unrelated concept.</p>
<p>One way to understand independence is that the probability of either events occurring does not depend on whether or not the other event has occurred.</p>
<p><em>Example</em>:</p>
<p>Rolling a fair 6-sided die: Let <span class="math inline">\(A=\)</span>{even}<span class="math inline">\(=\{2,4,6\}\)</span> and <span class="math inline">\(B=\)</span>{less than five}<span class="math inline">\(=\{1,2,3,4\}\)</span>. Then we have that <span class="math inline">\(A\cap B=\{2,4\}\)</span>, <span class="math inline">\(P(A)=\frac12\)</span>, <span class="math inline">\(P(B)=\frac23\)</span>, and <span class="math inline">\(P(A\cap B)=\frac13=\frac12\cdot\frac23\)</span> thus <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent.</p>
<p>Here is a way to understand this. If we just roll the die, the probability of it being even (event <span class="math inline">\(A\)</span>) is <span class="math inline">\(\frac12\)</span>. This is if the entire sample space is the set of possibilities, but if instead <span class="math inline">\(B\)</span> was our entire set of possible outcomes, then the probability of $A, being even, is still <span class="math inline">\(\frac12\)</span>.</p>
<p>We can rearrange the formula like this:</p>
<p><span class="math display">\[P(A)=\frac{P(A\cap B)}{P(B)}.\]</span></p>
<p>So for equally likely events, <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent if</p>
<p><span class="math display">\[P(A)=\frac{|A|}{|S|}=\frac{|A\cap B|}{|B|}.\]</span></p>
</div>
<div id="conditional-probability" class="section level3 hasAnchor" number="2.7.4">
<h3><span class="header-section-number">2.7.4</span> Conditional probability<a href="counting-sets-and-probability-basics.html#conditional-probability" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When conducting a random experiment, sometimes we may have some information about the outcome but not know it completely. Imagine rolling a die behind a barrier so you cannot see the result, but another person can. Under normal circumstances, <span class="math inline">\(P(2)=\frac16\)</span>. If the person who can see the result tells you it is an even number (assume they are truthful), then 2 is one out of only three possibilities now. So, in this sense <span class="math inline">\(P(\{2 \text{ given that we know it is even}\})=\frac13\)</span>. This is a conditional probability. We are conditioning our calculation of the probability on some given information.</p>
<p>The conditional probability of <span class="math inline">\(A\)</span> given <span class="math inline">\(B\)</span> is given by:</p>
<p><span class="math display">\[P(A\mid B)=\frac{P(A\cap B)}{P(B)}.\]</span></p>
<p>Event <span class="math inline">\(B\)</span> is the condition, and we can think of it as meaning that we know that event <span class="math inline">\(B\)</span> has occurred, but we don’t yet have enough information to determine whether or not <span class="math inline">\(A\)</span> has occurred. <span class="math inline">\(P(A\mid B)\)</span> is the probability of <span class="math inline">\(A\)</span> occurring given that we know <span class="math inline">\(B\)</span> has occurred.</p>
<p>An intuitive way to understand conditional probability is the following. Think of events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> indicating areas for a dart to land. Also assume that they are drawn proportional to their respective probabilities. You can envision a Venn diagram where the area of each region divided by the area of the entire diagram is equal to the probability of that region (as discussed in the beginning of this chapter). The probability of the dart landing in <span class="math inline">\(A\)</span> is exactly the area of <span class="math inline">\(A\)</span> relative to the entire region of possible landing zones. Conditioning on event <span class="math inline">\(B\)</span> means that we know that the dart lands in region <span class="math inline">\(B\)</span>. So the probability that it also lands in region <span class="math inline">\(A\)</span> is going to be the area of the intersection of <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> divided by the area of all possible landing zones, which is now just <span class="math inline">\(B\)</span>. So <span class="math inline">\(P(A\cap B)/P(B)\)</span>.</p>
<p><em>Example</em>: Consider our opening example in this section with events <span class="math inline">\(A=\{2\}\)</span> and <span class="math inline">\(B=\)</span>{even}.</p>
<p><span class="math display">\[
P(A\mid B)=\frac{P(A\cap B)}{P(B)}=\frac{\frac16}{\frac36}=\frac13
\]</span></p>
<div id="conditional-probability-and-independence" class="section level4 hasAnchor" number="2.7.4.1">
<h4><span class="header-section-number">2.7.4.1</span> Conditional probability and independence<a href="counting-sets-and-probability-basics.html#conditional-probability-and-independence" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Note that if events are independent, then conditioning on one or the other does not change probabilities of either occurring:</p>
<p><span class="math display">\[A,B \text{ are independent if and only if } \\
P(A\mid B)=P(A) \text{ and } P(B\mid A)=P(B) \]</span></p>
<p>Conditional probability can be used to rewrite the probability of an intersection in two ways:</p>
<p><span class="math display">\[P(A\cap B)=P(A\mid B)\cdot P(B)=P(B\mid A)\cdot P(A).\]</span></p>
<p>This is a very useful thing to understand. It will be used when we discuss Baye’s theorem.</p>
</div>
<div id="set-operations-and-probability-axioms-with-conditional-probability" class="section level4 hasAnchor" number="2.7.4.2">
<h4><span class="header-section-number">2.7.4.2</span> Set operations and probability axioms with conditional probability<a href="counting-sets-and-probability-basics.html#set-operations-and-probability-axioms-with-conditional-probability" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Conditional probability behaves just like regular probability. All the set operations, rules, and axioms of probability apply to conditional probability as well.</p>
<ul>
<li><span class="math inline">\(P(\emptyset\mid B)=0\)</span></li>
<li><span class="math inline">\(0\leq P(A\mid B)\le 1\)</span> for any event <span class="math inline">\(A\)</span>.</li>
<li>If <span class="math inline">\(A\subset B\)</span>, then <span class="math inline">\(P(A\mid C)\le P(B\mid C)\)</span>.</li>
<li><span class="math inline">\(P(A^c\mid B)=1-P(A\mid B)\)</span>.</li>
<li><span class="math inline">\(P(A-B\mid C)=P(A \cap B^c\mid C)=P(A\mid C)-P(A\cap B\mid C)\)</span></li>
</ul>
<p>Inclusion/exclusion rules:</p>
<p><span class="math inline">\(P(A\cup B\mid C) =P(A\mid C)+P(B\mid C)-P(A\cap B\mid C)\)</span></p>
<p><em>Example</em>:</p>
<p>Rolling a fair 6-sided die: Let <span class="math inline">\(A=\)</span>{even}<span class="math inline">\(=\{2,4,6\}\)</span> and <span class="math inline">\(B=\)</span>{one}<span class="math inline">\(=\{1\}\)</span>. Then we have that <span class="math inline">\(A\cap B=\emptyset\)</span>, <span class="math inline">\(P(A)=\frac12\)</span>, <span class="math inline">\(P(B)=\frac16\)</span>, and <span class="math inline">\(P(A\cap B)=0\)</span>. If we know that <span class="math inline">\(B\)</span> has occurred, what is the probability that <span class="math inline">\(A\)</span> has also occurred? Zero! They are mutually exclusive!</p>
<p><em>Example</em>:</p>
<p>Rolling a fair 6-sided die: Let <span class="math inline">\(A=\)</span>{odd}<span class="math inline">\(=\{1,3,5\}\)</span> and <span class="math inline">\(B=\)</span>{less than four}<span class="math inline">\(=\{1,2,3\}\)</span>. Then we have that <span class="math inline">\(A\cap B=\{1,3\}\)</span>, <span class="math inline">\(P(A)=\frac12\)</span>, <span class="math inline">\(P(B)=\frac12\)</span>, and <span class="math inline">\(P(A\cap B)=\frac13\)</span>. If we know that <span class="math inline">\(B\)</span> has occurred, what is the probability that <span class="math inline">\(A\)</span> has also occurred?
<span class="math display">\[P(A\mid B)=\frac23=\frac{\text{# of outcomes in $A$ and $B$}}{\text{# of outcomes in $B$}}.\]</span>
In both of the examples above, <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are not independent. Here is an example with independent events:</p>
<p><em>Example</em>:</p>
<p>Rolling a fair 6-sided die: Let <span class="math inline">\(A=\)</span>{even}<span class="math inline">\(=\{2,4,6\}\)</span> and <span class="math inline">\(B=\)</span>{less than five}<span class="math inline">\(=\{1,2,3,4\}\)</span>. Then we have that <span class="math inline">\(A\cap B=\{2,4\}\)</span>, <span class="math inline">\(P(A)=\frac12\)</span>, <span class="math inline">\(P(B)=\frac23\)</span>, and <span class="math inline">\(P(A\cap B)=\frac13=\frac12\cdot\frac23\)</span> thus <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent. Let’s calculate the conditional probability:
<span class="math inline">\(P(A\mid B)=\frac{|A\cap B|}{|B|}=\frac{2}{4}=\frac12=P(A)\)</span>.</p>
</div>
</div>
<div id="partitions" class="section level3 hasAnchor" number="2.7.5">
<h3><span class="header-section-number">2.7.5</span> Partitions<a href="counting-sets-and-probability-basics.html#partitions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we will divide up the sample space into a number of disjoint sets (mutually exclusive events). The collection of sets that the sample space is broken up into is called a <em>partition</em>. It is important that this partition of sets collectively covers the entire sample space (that is the nature of a partition). The simplest partition is <span class="math inline">\(S=A\cup A^c\)</span>.</p>
<p>A <strong>partition</strong> of a sample space is a collection of events <span class="math inline">\(A_1,A_2,A_3,\ldots,A_n\)</span> such that <span class="math inline">\(A_i\cap A_j=\emptyset\)</span> for any <span class="math inline">\(i,j\)</span> and <span class="math inline">\(S=\bigcup_{i=1}^n A_i=A_1 \cup A_2 \cup A_3 \cup \cdots \cup A_n\)</span>.</p>
<p><em>Example</em>: rolling a 6-sided die. Let <span class="math inline">\(A=\{2,4,6\}, B=\{1,3\}, C=\{5\}\)</span>. Then <span class="math inline">\(A,B,C\)</span> form a partition of the sample space <span class="math inline">\(S=\{1,2,3,4,5,6\}\)</span>.</p>
<p><em>Example</em>: If our random experiment is producing an item on some industrial production line, then we might be interested in whether the object passes a quality control check or not. This forms a partition of all possible outcomes: <span class="math inline">\(Q=\)</span>{passes quality check}, and <span class="math inline">\(Q^c=\)</span>{fails quality control check}.</p>
<p>If we have a partition <span class="math inline">\(A_1,A_2,A_3,\ldots,A_n\)</span> and any event <span class="math inline">\(B\)</span>, then we can break <span class="math inline">\(B\)</span> up into pieces over the partition:</p>
<p><span class="math display">\[B=\bigcup_{i=1}^n (B\cap A_i).\]</span></p>
<p>Notice that the <span class="math inline">\(B\cap A_i\)</span> are all disjoint. This is true because <span class="math inline">\(B\cap A_i \subset A_i\)</span> and the <span class="math inline">\(A_i\)</span> are all disjoint. We can thus calculate the probability of <span class="math inline">\(B\)</span> as</p>
<p><span class="math display">\[P(B)=P\left(\bigcup_{i=1}^n (B\cap A_i)\right)=\sum_{i=1}^n P(B\cap A_i).\]</span></p>
<p><em>Example</em>: Rolling a 6-sided die. Let <span class="math inline">\(A_1=\{1,2,3\}, A_2=\{4,5\}, A_3=\{6\}\)</span>. Then <span class="math inline">\(A_1,A_2,A_3\)</span> form a partition of the sample space <span class="math inline">\(S=\{1,2,3,4,5,6\}\)</span>. Consider event <span class="math inline">\(B=\{\text{odd}\}=\{1,3,5\}\)</span>. We then have that <span class="math inline">\(B\cap A_1=\{1,3\}\)</span>, <span class="math inline">\(B\cap A_2=\{5\}\)</span>, <span class="math inline">\(B\cap A_3=\{\}=\emptyset\)</span>. Thus <span class="math inline">\(P(B)=\frac36=P(B\cap A_1)+P(B\cap A_2)+P(B\cap A_3)=\frac26+\frac16+0\)</span>.</p>
<!-- ### Partitions, conditional probability, and tree diagrams -->
<!-- The relationship between partitions and conditional probability can be illustrated nicely with a tree diagram. -->
</div>
<div id="bayes-theorem" class="section level3 hasAnchor" number="2.7.6">
<h3><span class="header-section-number">2.7.6</span> Baye’s Theorem<a href="counting-sets-and-probability-basics.html#bayes-theorem" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Baye’s theorem uses the ideas of partitioning the sample space and conditional probability. Suppose we have an industrial production line machine. A certain number of items produced will be defective and the rest will be non-defective. Additionally sometimes a quality control inspection will not catch that a particular item is defective, or a non-defective item will be incorrectly identified as defective.</p>
<p>Assume that:</p>
<ul>
<li>Out of every 1,000 items produced, 20 will be defective.</li>
<li>Out of every 20 defective items, quality control will correctly identify 19 of them.</li>
<li>Out of every 980 non-defective items, quality control will incorrectly determine 50 of them to be defective.</li>
</ul>
<p>Here is what we want to determine: If an item fails the quality control inspection (i.e. it was determined by quality control to be defective), what is the probability that it is <em>actually</em> defective? Recall that quality control misclassifies items sometimes.</p>
<p>We create events:</p>
<ul>
<li><span class="math inline">\(D=\)</span> {item is defective},</li>
<li>thus <span class="math inline">\(D^c=\)</span> {item is non-defective}.</li>
<li><span class="math inline">\(F=\)</span> quality control control determines item to be defective (fail quality control inspection).</li>
</ul>
<p>The question is to calculate the conditional probability <span class="math inline">\(P(D\mid F)\)</span>.</p>
<p>We know the reverse conditional probability <span class="math inline">\(P(F\mid D)=\frac{19}{20}\)</span> (probability of failing the quality control inspection given that the item is defective). We also know that <span class="math inline">\(P(D)=\frac{20}{1000}\)</span> (probability of defective), and <span class="math inline">\(P(F\mid D^c)=\frac{50}{980}\)</span> (probability a non-defective item fails quality control inspection – a quality control error).</p>
<p>First we use the conditional probability formula:
<span class="math display">\[P(D\mid F)=\frac{P(D\cap F)}{P(F)}.\]</span>
Then we write the intersection in the numerator as the reverse conditional probability:
<span class="math display">\[P(D\mid F)=\frac{P(F\mid D) P(D)}{P(F)}.\]</span>
Notice that this is useful since we know the value for <span class="math inline">\(P(F\mid D)\)</span> but do not know <span class="math inline">\(P(D\mid F)\)</span>.</p>
<p>Then we write the denominator <span class="math inline">\(P(F)\)</span> in terms of the partition <span class="math inline">\(D,D^c\)</span>.</p>
<p><span class="math display">\[P(D\mid F)=\frac{P(F\mid D) P(D)}{P(F\cap D)+P(F\cap D^c)}.\]</span></p>
<p>Then we rewrite the intersections in the denominator as conditional probabilities with the partition <span class="math inline">\(D,D^c\)</span>.</p>
<p><span class="math display">\[P(D\mid F)=\frac{P(F\mid D) P(D)}{P(F\mid D)P(D)+P(F\mid D^c)P(D^c)}.\]</span></p>
<p>Now we know the values for all of the probabilities in the formula on the right!</p>
<p><span class="math display">\[
\begin{aligned}
P(D\mid F)&amp;=\frac{P(F\mid D) P(D)}{P(F\mid D)P(D)+P(F\mid D^c)P(D^c)}\\
&amp;=\frac{\frac{19}{20} \cdot \frac{20}{1000}}{\frac{19}{20} \cdot\frac{20}{1000}+\frac{50}{980} \cdot \left(1-\frac{20}{1000}\right)}.
\end{aligned}
\]</span></p>
<p>Let’s take a second look at this problem. Here are the initial numbers given again:</p>
<ul>
<li>Out of every 1,000 items produced, 20 will be defective.</li>
<li>Out of every 20 defective items, quality control will correctly identify 19 of them.</li>
<li>Out of every 980 non-defective items, quality control will incorrectly determine 50 of them to be defective.</li>
</ul>
<p>We can actually determine <span class="math inline">\(P(D\mid F)\)</span> directly without much effort. Out of the 1,000 items, there will be a total of <span class="math inline">\(19+50=69\)</span> that will fail the quality control check, and 19 of these are actually defective. Thus the probability of an item being defective given that it failed the quality control check is <span class="math inline">\(\frac{19}{69}\approx 27.5\%\)</span>. Notice that in this situation, a majority of items that fail quality control check are actually non-defective! Interesting!</p>
<p>The general form of Baye’s theorem is given for event <span class="math inline">\(B\)</span> and partition <span class="math inline">\(A_1,A_2,\ldots,A_n\)</span>.</p>
<p><span class="math display">\[
\begin{aligned}
P(A_k\mid B)&amp;=\frac{P(B\cap A_k)}{P(B)}\\
&amp;=\frac{P(B\cap A_k)}{\sum_{i=1}^n P(B\cap A_i)}\\
&amp;=\frac{P(B\mid A_k)P(A_k)}{\sum_{i=1}^n P(B\mid A_i)P(A_i)}.
\end{aligned}
\]</span></p>
<p>A very common form of Baye’s theorem is when the partition is <span class="math inline">\(A,A^c\)</span>.</p>
<p><span class="math display">\[
P(A\mid B)=\frac{P(B\mid A)P(A)}{P(B\mid A)P(A)+P(B\mid A^c)P(A^c)}.
\]</span></p>
<div id="alternative-bayes-example" class="section level4 hasAnchor" number="2.7.6.1">
<h4><span class="header-section-number">2.7.6.1</span> Alternative Baye’s example<a href="counting-sets-and-probability-basics.html#alternative-bayes-example" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If instead of being given the information in terms of whole number ratios as above, sometimes Baye’s theorem problems are given with fraction, decimal, or percentage probabilities.</p>
<p>Here is a similar problem with information given as percentages:</p>
<ul>
<li>The probability of an item being defective is <span class="math inline">\(3\%\)</span></li>
<li>If an item is defective, it will fail a quality control check <span class="math inline">\(96\%\)</span> of the time.</li>
<li>If an item is non-defective, it will fail a quality control check <span class="math inline">\(2\%\)</span> of the time.</li>
</ul>
<p>So now we have <span class="math inline">\(P(D)=0.03\)</span>, <span class="math inline">\(P(D^c)=0.97\)</span>, <span class="math inline">\(P(F\mid D)=0.96\)</span>, and <span class="math inline">\(P(F\mid D^c)=0.02\)</span>. (Note that these are different from the previous example.)</p>
<p>We can calculate similarly:
<span class="math display">\[
\begin{aligned}
P(D\mid F)&amp;=\frac{P(F\mid D) P(D)}{P(F\mid D)P(D)+P(F\mid D^c)P(D^c)}\\
&amp;=\frac{(0.96) \cdot (0.03)}{(0.96) \cdot (0.03)+(0.02) \cdot (0.97)} \\
&amp;\approx 0.5975.
\end{aligned}
\]</span></p>
</div>
<div id="a-trick-for-solving-bayes-problems" class="section level4 hasAnchor" number="2.7.6.2">
<h4><span class="header-section-number">2.7.6.2</span> A trick for solving Baye’s problems<a href="counting-sets-and-probability-basics.html#a-trick-for-solving-bayes-problems" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>It is common for students to find it more difficult to work out Baye’s theorem problems when given probabilities instead of whole numbers. Here is a trick: turn all the probabilities into ratios of whole numbers!</p>
<p>First take the probability with the most significant figures (which is just decimal places for probabilities written as a decimal). Double this result and raise ten to that as a power. This will be our total sample size.</p>
<p>All probabilities in our example have two decimal places, thus multiplying by <span class="math inline">\(10^{2+2}=\)</span> 10,000 will give us whole numbers.</p>
<ul>
<li>Out of 10,000 items, <span class="math inline">\(10000\cdot 0.03=300\)</span> will be defective</li>
<li>Out of 300 defective items, <span class="math inline">\(300\cdot 0.96=288\)</span> will fail the quality control check (correctly be identified as defective).</li>
<li>Out of <span class="math inline">\(10000-300=9,\!700\)</span> non-defective items, <span class="math inline">\(9700\cdot 0.02=194\)</span> will fail a quality control check (and be erroneously identified as defective).</li>
</ul>
<p>Thus, now we can see that there will be a total of <span class="math inline">\(288+194=482\)</span> items that fail a quality control check, and <span class="math inline">\(288\)</span> of them will actually be defective. Thus <span class="math inline">\(P(D\mid F)=\frac{288}{482}\approx 0.5975\)</span>.</p>
<p><span class="math display">\[
\diamond \S \diamond
\]</span></p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-r-and-rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="random-variables-and-distributions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jstover79/stochproc423/edit/master/02-prob-review-321.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/jstover79/stochproc423/blob/master/02-prob-review-321.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
